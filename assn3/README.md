조원들과 함께 코드리뷰를 하며 다양한 부분에서 서로 다르게 코드를 짠 부분들을 비교했고, 추가했으면 좋겠다는 기능 등을 조언받으며 많은 생각을 해보게 되었다.
우선, 1부터 9까지의 버튼을 addWidget 해주는 부분의 코드는 조원들과 다른 방식이었어서 다른 분들과 비교해보며 한 수 배우게 되었다.

        numLayout.addWidget(self.digitButton[0], 3, 0)
        for j in range(1, 10):
            numLayout.addWidget(self.digitButton[j], abs( ( j - 7 ) // 3 ) , ( j + 2 ) % 3 )
            
처음 나의 코드같은 경우엔 두번째 for문을 구현할 때 0 버튼은 규칙에 해당되지 않아 따로 코드를 작성해주었고, 1~9까지의 숫자 버튼은 위 코드와 같이 for문으로 작성해주었다. 행에는 2, 2, 2, 1, 1, 1, 0, 0, 0 의 규칙이 반복되어야 하기 때문에 3으로 나누었을 때의 몫을 사용하도록 하였고, 점점 몫이 작아져야 하기 때문에 j에서 7을 빼준후 3으로 나눠주었을 때의 몫을 구해보았다. 이 경우, -2, -2, -2, -1, -1, -1, 0, 0, 0의 값이 나오기 때문에 파이썬 내장 절댓값 함수인 abs()를 사용해 올바른 규칙이 작동되도록 해 주었다. 그 후 열은 0, 1, 2의 규칙이 반복되어야 하기 때문에 3으로 나누었을 때의 나머지를 사용하도록 하였고 j+2를 3으로 나누어서 올바른 규칙이 작동되도록 해 주었다.

코드 리뷰를 하며 다른 조원들의 코드를 보았는데, 

        numLayout.addWidget(self.digitButton[0], 3, 0)
        for i in range(1, 10):
            row = 2 - ((i-1) // 3)
            col = (i - 1) % 3
            numLayout.addWidget(self.digitButton[i], row, col)

두분이 이런 식으로 코드를 작성하셨다. 열은 3으로 나누었을 때의 나머지 였기 때문에 내 코드의 ( j + 2 ) % 3과 ( i - 1 ) % 3이나 같은 원리로 작동되어 같은 결과를 내는 방식이다. 하지만 행은 새로운 방법이었기 때문에 이런 방식도 있다는 것이 상당히 흥미롭게 느껴졌다.
그리고 코드리뷰의 결과 내 코드처럼 for문 안에 한줄로 addWidget문을 작성하는 것 보다, 다른 분들의 방식처럼 row와 col 변수를 지정해 for문 안에서 값이 계속 변하게 한 후 addWidget문에 row, col을 넣어줘 돌아가게 하는 방식이 조금 더 보기 깔끔한 방식이라고 생각되어 나의 코드도 저런 방식으로 변경하였다.

두번째로 코드리뷰를 하며 조언을 받아 추가해 준 부분은 예외처리이다.

        def buttonClicked(self):
        button = self.sender()
        key = button.text()
        if key == "=":
            try:
                result = str(eval(self.display.text()))
                self.display.setText(result)

            except ZeroDivisionError:
                self.display.setText("0으로는 나눌 수 없습니다!")

            except SyntaxError:
                self.display.setText("수식이 올바르지 않습니다!")
                
        elif key == 'C':
            self.display.setText("")
            
        else:
            self.display.setText(self.display.text() + key)
          
조원분들과 코드리뷰를 하며 예외처리를 해주지 않았을 경우엔 오류가 발생하면 계산기가 종료되며 파이썬에 에러코드가 발생하기 때문에, 발생할 수 있는 각종 오류들을 예외처리 해주면 좋겠다는 조언을 받았다. 그래서 각종 오류가 나오는 경우를 생각해 보았는데, 0으로 나누는 계산을 했을 때 혹은 괄호를 홀수 개로 쓰는 등 옳지 않은 수식을 작성하고 "=" 버튼을 눌렀을 때의 경우가 나왔다. 0으로 나누는 계산을 했을 경우엔 파이썬에 ZeroDivisionError가 발생했고, 옳지 않은 수식을 작성하고 계산 버튼을 눌렀을 경우 eval 메쏘드가 문법적 오류를 발생시키기 때문에 SyntaxError가 발생했다. 그렇기 때문에 위처럼 오류가 발생하지 않을 경우엔 try문으로 올바른 계산을 해주고, 오류가 발생할 경우엔 except문으로 예외처리를 해주어 계산기가 종료되지 않고 텍스트 창에 오류가 발생한 이유를 출력하도록 하는 코드를 추가해주었다.

그리고, 조원분들 중 한분이 "C" 버튼을 클릭하였을 경우엔 모든 수가 삭제되기 때문에 새로 "del" 버튼을 만들어줘 숫자 하나씩을 삭제하는 기능을 만들어 주는 것도 좋겠다는 의견을 제시해 주셨다. 그래서 text를 spilt 함수를 사용해 임의의 list에 숫자 하나씩을 추가해 준 후 pop()을 이용해 마지막 하나의 숫자만을 제거해 주는 방식으로 "del" 버튼을 구현하는 시도록 해보았는데, 에러가 발생해 결국 완성하진 못하였다. 다음 코드리뷰 시간에 다시 조원들과의 상의를 통해 del 버튼을 구현해보겠다.

이번 계산기 코드 리뷰를 통해, 계산기 코드가 아직은 상당히 많이 추가할 기능이 있다는 것을 느꼈고 어서 색다른 기능들을 추가해 보고 싶다고 생각해보게 되었다.

(숫자 하나 작성 시 삭제기능 추가)
